{% extends "base.html" %}

{% block title %}Edit User - Admin{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-sidebar">
        <h3>Admin Panel</h3>
        <nav class="admin-nav">
            <a href="{{ url_for('admin_dashboard') }}">Dashboard</a>
            <a href="{{ url_for('admin_users') }}" class="active">Users</a>
            <a href="{{ url_for('admin_products') }}">Products</a>
            <a href="{{ url_for('admin_health_check') }}">Health Check</a>
            <a href="{{ url_for('admin_backup') }}">Backup</a>
            <a href="{{ url_for('file_upload') }}">Upload Files</a>
            <a href="{{ url_for('home') }}">‚Üê Back to Site</a>
        </nav>
    </div>

    <div class="admin-content">
        <h1>Edit User: {{ user.username }}</h1>

        <div class="alert alert-danger">
            <p>You can modify ANY field including is_admin, balance, etc.!</p>
        </div>

        <form method="POST" action="{{ url_for('admin_edit_user', user_id=user.id) }}" class="admin-form">
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" value="{{ user.username }}" class="form-control"
                    required>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" value="{{ user.email }}" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="display_name">Display Name</label>
                <input type="text" id="display_name" name="display_name" value="{{ user.display_name }}"
                    class="form-control">
            </div>

            <div class="form-group">
                <label for="balance">Balance ($)</label>
                <input type="number" step="0.01" id="balance" name="balance" value="{{ user.balance }}"
                    class="form-control">
            </div>

            <div class="form-group">
                <label>
                    <input type="checkbox" name="is_admin" {% if user.is_admin %}checked{% endif %}>
                    Administrator
                </label>
            </div>

            <div class="form-group">
                <label>
                    <input type="checkbox" name="is_active" {% if user.is_active %}checked{% endif %}>
                    Active Account
                </label>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save Changes</button>
                <a href="{{ url_for('admin_users') }}" class="btn btn-outline">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}